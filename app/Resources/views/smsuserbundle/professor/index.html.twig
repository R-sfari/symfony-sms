{% extends 'layout/base.html.twig' %}

{% block sticky_button %}
<a class="md-fab md-fab-primary" href="{{ path('professor_new') }}">
    <i class="material-icons">&#xE145;</i>
</a>
{% endblock %}

{% block title_page %} 
 {{ 'professor.list.title'|trans }}
{% endblock %}

{% block body %}
    <div class="md-card uk-margin-medium-bottom">
        <div class="md-card-content">
            <div class="dataTables_wrapper form-inline dt-uikit md-processed">
                <div class="dt-uikit-header">
                    <div class="uk-grid">
                        <div class="uk-width-medium-2-3">
                            <div class="uk-button-dropdown" data-uk-dropdown="{mode:'click'}">
                                <button class="md-btn"><b>{{'action.name'|trans }}</b> <i class="material-icons">&#xE313;</i></button>
                                <div class="uk-dropdown uk-dropdown-small">
                                    <ul class="uk-nav uk-nav-dropdown">
                                        <li>
                                            <a data-box="#delete" class="mb-control" href="#">
                                                <i class="uk-icon-trash"></i> {{'action.delete'|trans }}
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="uk-width-medium-1-3">
                            <div id="dt_individual_search_filter" class="dataTables_filter">
                                <div class="md-input-wrapper">
                                    <form action="{{ path('professor_index') }}" method="get">
                                        <input type="search" name="search" class="md-input" placeholder="{{'index.search'|trans }}" value="{{ search }}" aria-controls="dt_individual_search">
                                        <span class="md-input-bar "></span>
                                    </form>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
                <div class="uk-overflow-container">
                    <form action="{{ path('professor_bulk_action') }}" method="post">
                        <table id="dt_individual_search" class="uk-table dataTable table_check" role="grid" aria-describedby="dt_individual_search_info">
                            <thead>
                                <tr role="row">
                                    <th class="uk-text-center small_col">
                                        <input type="checkbox" data-md-icheck class="check_all">
                                    </th>
                                        <th {% if professors.isSorted('f.firstName') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.firstName', 'f.firstName') }}</th>
                                        <th {% if professors.isSorted('f.lastName') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.lastName', 'f.lastName') }}</th>
                                        <th {% if professors.isSorted('f.gender') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.gender', 'f.gender') }}</th>
                                        <th {% if professors.isSorted('f.birthday') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.birthday', 'f.birthday') }}</th>
                                        <th {% if professors.isSorted('f.phone') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.phone', 'f.phone') }}</th>
                                        <th {% if professors.isSorted('f.address') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.address', 'f.address') }}</th>
                                        <th {% if professors.isSorted('f.grade') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.grade', 'f.grade') }}</th>
                                        <th {% if professors.isSorted('f.id') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.id', 'f.id') }}</th>
                                        <th {% if professors.isSorted('f.username') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.username', 'f.username') }}</th>
                                        <th {% if professors.isSorted('f.usernameCanonical') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.usernameCanonical', 'f.usernameCanonical') }}</th>
                                        <th {% if professors.isSorted('f.email') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.email', 'f.email') }}</th>
                                        <th {% if professors.isSorted('f.emailCanonical') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.emailCanonical', 'f.emailCanonical') }}</th>
                                        <th {% if professors.isSorted('f.enabled') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.enabled', 'f.enabled') }}</th>
                                        <th {% if professors.isSorted('f.salt') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.salt', 'f.salt') }}</th>
                                        <th {% if professors.isSorted('f.password') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.password', 'f.password') }}</th>
                                        <th {% if professors.isSorted('f.lastLogin') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.lastLogin', 'f.lastLogin') }}</th>
                                        <th {% if professors.isSorted('f.confirmationToken') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.confirmationToken', 'f.confirmationToken') }}</th>
                                        <th {% if professors.isSorted('f.passwordRequestedAt') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.passwordRequestedAt', 'f.passwordRequestedAt') }}</th>
                                        <th {% if professors.isSorted('f.roles') %}{% if  professors.direction == 'asc' %} class='sorting_asc uk-text-center' {% else %} class='sorting_desc uk-text-center'{% endif %}{% else %}class='sorting uk-text-center'{% endif %}>
                                            {{ knp_pagination_sortable(professors, 'professors.field.roles', 'f.roles') }}</th>
                                    <th class="uk-text-center">{{'action.name'|trans }}</th>
                                </tr>
                            </thead>

                            <tbody>
                        
                                {% for professor in professors %}
                                    <tr>
                                    <td class="uk-text-center uk-table-middle small_col">
                                            <input type="checkbox" name="{{keys}}" value="{{ professor.id }}" data-md-icheck class="check_row"></td>
                                        <td class="uk-text-center"><a href="{{ path('professor_show', { 'id': professor.id }) }}">{{ professor.firstName }}</a></td>
                                        <td class="uk-text-center">{{ professor.lastName }}</td>
                                        <td class="uk-text-center">{{ professor.gender }}</td>
                                        <td class="uk-text-center">{% if professor.birthday %}{{ professor.birthday|date('Y-m-d') }}{% endif %}</td>
                                        <td class="uk-text-center">{{ professor.phone }}</td>
                                        <td class="uk-text-center">{{ professor.address }}</td>
                                        <td class="uk-text-center">{{ professor.grade }}</td>
                                        <td class="uk-text-center">{{ professor.id }}</td>
                                        <td class="uk-text-center">{{ professor.username }}</td>
                                        <td class="uk-text-center">{{ professor.usernameCanonical }}</td>
                                        <td class="uk-text-center">{{ professor.email }}</td>
                                        <td class="uk-text-center">{{ professor.emailCanonical }}</td>
                                        <td class="uk-text-center">{% if professor.enabled %}Yes{% else %}No{% endif %}</td>
                                        <td class="uk-text-center">{{ professor.salt }}</td>
                                        <td class="uk-text-center">{{ professor.password }}</td>
                                        <td class="uk-text-center">{% if professor.lastLogin %}{{ professor.lastLogin|date('Y-m-d H:i:s') }}{% endif %}</td>
                                        <td class="uk-text-center">{{ professor.confirmationToken }}</td>
                                        <td class="uk-text-center">{% if professor.passwordRequestedAt %}{{ professor.passwordRequestedAt|date('Y-m-d H:i:s') }}{% endif %}</td>
                                        <td class="uk-text-center">{% if professor.roles %}{{ professor.roles|join(', ') }}{% endif %}</td>
                                        <td class="uk-text-center">
                                            <a data-uk-tooltip="{pos:'top'}" title="{{'action.show'|trans }}" href="{{ path('professor_show', { 'id': professor.id }) }}"><i class="md-icon material-icons" >&#xE8F4;</i></a>
                                            
                                            <a data-uk-tooltip="{pos:'top'}" title="{{'action.edit'|trans }}" href="{{ path('professor_edit', { 'id': professor.id }) }}"><i class="md-icon material-icons">&#xE254;</i></a>
                                        </td>
                                    </tr>
                                {% endfor %}
                                <!-- MESSAGE BOX-->
                                    <div class="message-box animated fadeIn " data-sound="alert" id="delete">
                                        <div class="mb-container">
                                            <div class="mb-middle">
                                                <div class="uk-float-left">
                                                    <div class="mb-title">
                                                        <i class="uk-icon-trash "></i> {{ 'delete.name'|trans({'%item%' : 'professor.item'|trans }) }} ?
                                                    </div>
                                                    <div class="mb-content">
                                                        <p>{{ 'delete.message'|trans({'%item%' : 'professor.item'|trans }) }}</p>
                                                    </div>
                                                </div>
                                                
                                                <div class="mb-footer">
                                                    <div class="uk-float-right">
                                                        <div class="md-btn-group">
                                                            <input type="hidden" name="{{actions}}" value="{{ delete}}">
                                                            <button type="submit" class="md-btn md-btn-danger md-btn-medium md-btn-wave-light waves-effect waves-button waves-light">
                                                            <i class="icon-trash"></i>
                                                             {{ 'delete.yes'|trans }}
                                                            </button>
                                                            <button type="reset" class="md-btn md-btn-default md-btn-medium md-btn-wave-light waves-effect waves-button waves-light mb-control-close" >{{ 'delete.no'|trans }}</button>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                <!-- END MESSAGE BOX-->
                            </tbody>
                        </table>
                    </form>
                </div>
                <div class="dt-uikit-footer">
                    <div class="uk-grid">
                        <div class="uk-width-medium-3-10">
                            <div class="dataTables_info" id="dt_individual_search_info" role="status" aria-live="polite">{{ 'index.count'|trans({ '%per_page%' : per_page , '%total%' : professors.getTotalItemCount})}}</div>
                        </div>
                        <div class="uk-width-medium-7-10">
                            <div class="simple_numbers" id="dt_individual_search_paginate">
                                {{ knp_pagination_render(professors) }}
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

{% endblock %}
