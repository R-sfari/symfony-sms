{% extends 'layout/base.html.twig' %}

{% block sub_title_page %}
  <a href="{{ path('catchuplesson_index') }}">
    {{ 'catchuplesson.list.title'|trans }}
  </a>
  /
  <a href="#">
    {{ 'catchuplesson.registration.title'|trans }}
  </a>
{% endblock %}

{% block title_page %}
  {{ 'catchuplesson.registration.title'|trans }}
{% endblock %}

{% block body %}
  <!-- statistics (small charts) -->
  <div id="info" class="uk-grid uk-grid-width-large-1-3 uk-grid-width-medium-1-3 uk-grid-medium uk-sortable sortable-handler" data-uk-grid-margin>
    <div>
      <div class="md-card">
        <div class="md-card-content">
          <div class="uk-float-right uk-margin-top uk-margin-small-right">
            <i class="material-icons  md-36">&#xE8D3;</i>
          </div>
          <span class=" uk-text-large  uk-text-bold">{{'paymenttype.detail.student'|trans }}</span>
          <h2 class="uk-margin-remove">
            <span id="student">
              {{ catchUpLesson.student|length }}
            </span>
          </h2>
        </div>
      </div>
    </div>
    <div>
      <div class="md-card">
        <div class="md-card-content">
          <div class="uk-float-right uk-margin-top uk-margin-small-right">
            <i class="material-icons  md-36">&#xE227;</i>
          </div>
          <span class=" uk-text-large  uk-text-bold">{{'paymenttype.field.registrationFee'|trans }}</span>
          <h2 class="uk-margin-remove" id="registrationFee">
            {{ catchUpLesson.registrationFee|price }}
            {{ 'payment.unit.price'|trans }}
          </h2>
        </div>
      </div>
    </div>
    <div>
      <div class="md-card">
        <div class="md-card-content">
          <div class="uk-float-right uk-margin-top uk-margin-small-right">
            <i class="material-icons  md-36">&#xE263;</i>
          </div>
          <span class=" uk-text-large  uk-text-bold">{{'payment.field.totalRegistration'|trans }}</span>
          <h2 class="uk-margin-remove" id="registrationFee">
            {{ (catchUpLesson.registrationFee * catchUpLesson.student|length)|price }}
            {{ 'payment.unit.price'|trans }}
          </h2>
        </div>
      </div>
    </div>
  </div>
  <div class="md-card uk-margin-medium-bottom">
    <div class="md-card-toolbar">
      <h3 class="md-card-toolbar-heading-text">
        {{ 'student.list.title'|trans }}
      </h3>
    </div>
    <div class="md-card-content">
      <div id="student_datatable_multiselect_actions">
        <div class="dt_colVis_buttons">
          <a id="registered" rel="tooltip" title="{{ 'action.registered'|trans  }}" class="md-btn md-btn-primary md-btn-wave-light waves-effect waves-button waves-light " role="button">
            <i class="material-icons">&#xE899;</i>
            {{ 'action.registered'|trans  }}</a>
          <a id="not_registered" rel="tooltip" title="{{ 'action.not_registered'|trans  }}" class="md-btn md-btn-primary md-btn-wave-light waves-effect waves-button waves-light" role="button">
            <i class="material-icons">&#xE898;</i>
            {{ 'action.not_registered'|trans  }}</a>
        </div>
      </div>
      {{ datatable_render(students) }}
    </div>
  </div>
{% endblock %}
{% block javascripts %}
  {{ parent() }}
  <!-- page specific plugins -->
  {% include '@SMSPayment/js/catchuplesson_registration_action.html.twig' %}
{% endblock %}
