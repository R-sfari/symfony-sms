{% extends 'layout/base_no_header.html.twig' %}

{% block sticky_button %}
  <a class="md-fab md-fab-primary" href="{{ path('registration_new') }}">
    <i class="material-icons">&#xE145;</i>
  </a>
{% endblock %}

{% block title_page %}
  {{ 'payment.list.title'|trans }}
{% endblock %}

{% block body %}
  <div class="uk-grid uk-grid-medium" data-uk-grid-margin>
    <div class="uk-width-medium-1-3">
      <div class="md-card">
        <div class="md-card-content">
          {{ form_start(form) }}
          <div class="uk-accordion" data-uk-accordion="{ collapse: false }">
            <h3 class="uk-accordion-title">{{ "search.student.title"|trans }}</h3>
            <div class="uk-accordion-content">
              <div class="uk-form-row">
                <label class="uk-form-label">{{ form_label(form.textField) }}</label>
                {{ form_widget(form.textField)}}
                <div class="parsley-errors-list filled uk-text-danger">
                  {{ form_errors(form.textField) }}
                </div>
              </div>
              <div class="uk-form-row uk-form-label">
                {{ form_widget(form.extern) }}
                <label class="inline-label">{{ form_label(form.extern) }}</label>
              </div>
              <div class="uk-form-row uk-form-label">
                {{ form_widget(form.intren) }}
                <label class="inline-label">{{ form_label(form.intren) }}</label>
              </div>

            </div>

            <h3 class="uk-accordion-title uk-accordion-title-primary">{{ "search.payment.title"|trans }}</h3>
            <div class="uk-accordion-content">
              <div class="uk-form-row uk-form-label">
                {{ form_widget(form.paid) }}
                <label class="inline-label">{{ form_label(form.paid) }}</label>
              </div>
              <div class="uk-form-row uk-form-label">
                {{ form_widget(form.notPaid) }}
                <label class="inline-label">{{ form_label(form.notPaid) }}</label>
              </div>
              <div class="uk-form-row uk-form-label">
                {{ form_widget(form.hasCredit) }}
                <label class="inline-label">{{ form_label(form.hasCredit) }}</label>
              </div>
            </div>
            <h3 class="uk-accordion-title">
              {{ "search.registration.title"|trans }}</h3>
            <div class="uk-accordion-content">
              <div class="uk-form-row">
                <label class="uk-form-label">{{ form_label(form.paymentType) }}</label>
                {{ form_widget(form.paymentType)}}
                <div style="display:none;" class="error uk-margin-small-top parsley-errors-list filled uk-text-danger">
                  {{ "registration.paymenttype.error"|trans }}
                </div>
              </div>
              <div class="uk-form-row">
                <label class="uk-form-label">{{ form_label(form.months) }}</label>
                {{ form_widget(form.months)}}
                <div class="parsley-errors-list filled uk-text-danger">
                  {{ form_errors(form.months) }}
                </div>
              </div>
              <div class="uk-form-row uk-form-label">
                {{ form_widget(form.Registred) }}
                <label class="inline-label">{{ form_label(form.Registred) }}</label>
              </div>
              <div class="uk-form-row uk-form-label">
                {{ form_widget(form.notRegistred) }}
                <label class="inline-label">{{ form_label(form.notRegistred) }}</label>
              </div>
            </div>
          </div>
          {{ form_widget(form) }}
          <button class="md-btn md-btn-primary md-btn-block md-btn-wave-light waves-effect waves-button waves-light">{{ "search.submit"|trans}}</a>
          {{ form_end(form) }}
        </div>
      </div>
    </div>

    <div class="uk-width-medium-2-3">
      <div class="uk-margin-medium-bottom uk-width-medium-3-3 uk-grid-width-large-2-2">
        <ul id="contact_list_filter" class="uk-subnav uk-subnav-pill uk-margin-remove">
          <li {% if pagination.isSorted('student.firstName') %} class="uk-active" {% endif %}>
            {{ knp_pagination_sortable(pagination, 'student.field.firstName'|trans , 'student.firstName') }}
          </li>
          <li {% if pagination.isSorted('student.lastName') %} class="uk-active" {% endif %}>
            {{ knp_pagination_sortable(pagination, 'student.field.lastName'|trans , 'student.lastName') }}
          </li>
          <li {% if pagination.isSorted('student.email') %} class="uk-active" {% endif %}>
            {{ knp_pagination_sortable(pagination, 'user.field.email'|trans , 'student.email') }}
          </li>
          <li {% if pagination.isSorted('student.phone') %} class="uk-active" {% endif %}>
            {{ knp_pagination_sortable(pagination, 'student.field.phone'|trans , 'student.phone') }}
          </li>

        </ul>
      </div>
      <!-- info cards -->
      <div class="uk-grid uk-grid-medium uk-grid-width-medium-1-2 uk-grid-width-large-1-3 hierarchical_show" data-uk-grid="{gutter: 20}" data-uk-grid-margin data-uk-grid-match="{target:'.md-card-content'}">
        {% for student in pagination %}
          <div>
            <div class="md-card">
              <div class="md-card-head md-bg-blue-700">
                <div class="md-card-head-menu" data-uk-dropdown="{pos:'bottom-right'}">
                  <i class="md-icon material-icons md-icon-light">&#xE5D4;</i>
                  <div class="uk-dropdown uk-dropdown-small">
                    <ul class="uk-nav">
                      <li>
                        <a href="#">{{ "payment.payment_info"|trans }}</a>
                      </li>
                      <li>
                        <a href="#">{{ "payment.new.title"|trans }}</a>
                      </li>
                    </ul>
                  </div>
                </div>
                <div class="uk-text-center">
                  {% if student.imageName %}
                    <img class="md-card-head-avatar" src="{{ vich_uploader_asset(student, 'imageFile') }}" alt="{{ student.imageName }}"/>
                  {% else %}
                    <img class="md-card-head-avatar md-bg-grey-50" src="{{ asset('assets/img/avatars/user@2x.png') }}" alt="user avatar"/>
                  {% endif %}
                </div>
                <h3 class="md-card-head-text uk-text-center md-color-white">
                  {{ student.firstName }}
                  {{ student.lastName }}
                  <span>{{ student.username }}</span>
                </h3>
              </div>
              <div class="md-card-content">
                <ul class="md-list">
                  <li>
                    <div class="md-list-content">
                      <span class="md-list-heading">{{ student.email }}</span>
                      <span class="uk-text-small uk-text-muted">{{'user.field.email'|trans }}</span>
                    </div>
                  </li>
                  <li>
                    <div class="md-list-content">
                      <span class="md-list-heading">{{ student.phone }}</span>
                      <span class="uk-text-small uk-text-muted">{{'studentparent.field.phone'|trans }}</span>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        {% endfor %}
        <div class="uk-margin-large-top uk-width-medium-3-3 uk-grid-width-large-2-2">
          {{ knp_pagination_render(pagination) }}
        </div>
      </div>
    </div>
  {% endblock %}
  {% block javascripts %}
    {{ parent()}}
    <script>
      var mdCheckbox = $(":checkbox");
      mdCheckbox.each(function() {
        $(this).iCheck({checkboxClass: 'icheckbox_md', radioClass: 'iradio_md', increaseArea: '20%'});
      });
    </script>
  {% endblock %}
